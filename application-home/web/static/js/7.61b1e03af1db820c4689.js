webpackJsonp([7],{M9tU:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("vLgD");var l=n("5m9B"),o={components:{BasePagination:n("5ckB").a},data:function(){return{timeOptions:[{value:"nanoseconds",label:"纳秒"},{value:"microseconds",label:"微妙"},{value:"milliseconds",label:"毫秒"},{value:"seconds",label:"秒"},{value:"minutes",label:"分"},{value:"hours",label:"小时"},{value:"days",label:"天"}],list:null,rateUnit:"seconds",durationUnit:"milliseconds",sort:"mean",isDesc:!0,listLoading:!0,total:0}},mounted:function(){this.fetchData()},methods:{fetchData:function(){var t=this;this.listLoading=!0;var e=this.$refs.pageinfo.getPageParam;e.rateUnit=this.rateUnit,e.durationUnit=this.durationUnit,e.sort=this.sort,e.isDesc=this.isDesc,function(t){return Object(a.a)({url:"/api/performance",method:"get",params:t})}(e).then(function(e){t.list=e.data.list,t.total=e.data.total,t.listLoading=!1})},sortChange:function(t,e,n){this.sort=t.prop,"ascending"===t.order?this.isDesc=!1:this.isDesc=!0,this.fetchData()},formatNum:function(t){return Object(l.b)(t,6)}}},r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("el-form",{attrs:{inline:""}},[n("el-form-item",[n("el-form-item",{attrs:{label:"访问率周期","label-width":"120px",prop:"rateUnit"}},[n("el-select",{attrs:{placeholder:"请选择",size:"mini"},model:{value:t.rateUnit,callback:function(e){t.rateUnit=e},expression:"rateUnit"}},t._l(t.timeOptions,function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),n("el-form-item",{attrs:{label:"响应延时周期","label-width":"120px",prop:"durationUnit"}},[n("el-select",{attrs:{placeholder:"请选择",size:"mini"},model:{value:t.durationUnit,callback:function(e){t.durationUnit=e},expression:"durationUnit"}},t._l(t.timeOptions,function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.fetchData}},[t._v("刷新")])],1)],1),t._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:t.listLoading,expression:"listLoading",modifiers:{body:!0}}],staticStyle:{width:"100%"},attrs:{data:t.list,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":"","max-height":"760","default-sort":{prop:"mean",order:"descending"}},on:{"sort-change":t.sortChange}},[n("el-table-column",{attrs:{label:"资源",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.name)+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"编码",width:"180",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.code))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"访问率(events/"+t.rateUnit+")",align:"center"}},[n("el-table-column",{attrs:{label:"总数",width:"90",sortable:"custom",align:"center",prop:"count"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.count)+"\n        ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"平均",width:"110",sortable:"custom",align:"center",prop:"meanRate"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t.formatNum(e.row.meanRate))+"\n        ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"1 x",width:"130",sortable:"custom",align:"center",prop:"oneMinuteRate"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t.formatNum(e.row.oneMinuteRate))+"\n        ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"5 x",width:"130",sortable:"custom",align:"center",prop:"fiveMinuteRate"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t.formatNum(e.row.fiveMinuteRate))+"\n        ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"15 x",width:"140",sortable:"custom",align:"center",prop:"fifteenMinuteRate"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t.formatNum(e.row.fifteenMinuteRate))+"\n        ")]}}])})],1),t._v(" "),n("el-table-column",{attrs:{label:"响应时间("+t.durationUnit+")",align:"center"}},[n("el-table-column",{attrs:{label:"最小",width:"110",sortable:"custom",align:"center",prop:"min"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t.formatNum(e.row.min))+"\n        ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"最大",width:"110",sortable:"custom",align:"center",prop:"max"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t.formatNum(e.row.max))+"\n        ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"平均",width:"110",sortable:"custom",align:"center",prop:"mean"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t.formatNum(e.row.mean))+"\n        ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"stddev",width:"110",sortable:"custom",align:"center",prop:"stddev"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t.formatNum(e.row.stddev))+"\n        ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"中位",width:"110",sortable:"custom",align:"center",prop:"median"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t.formatNum(e.row.median))+"\n        ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"75%",width:"110",sortable:"custom",align:"center",prop:"scope"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t.formatNum(e.row.p75))+"\n        ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"95%",width:"110",sortable:"custom",align:"center",prop:"p95"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t.formatNum(e.row.p95))+"\n        ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"98%",width:"110",sortable:"custom",align:"center",prop:"p98"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t.formatNum(e.row.p98))+"\n        ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"99%",width:"110",sortable:"custom",align:"center",prop:"p99"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t.formatNum(e.row.p99))+"\n        ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"99.9%",width:"110",sortable:"custom",align:"center",prop:"p999"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t.formatNum(e.row.p999))+"\n        ")]}}])})],1)],1),t._v(" "),n("base-pagination",{ref:"pageinfo",attrs:{total:t.total},on:{change:t.fetchData}})],1)},staticRenderFns:[]},s=n("VU/8")(o,r,!1,null,null,null);e.default=s.exports}});